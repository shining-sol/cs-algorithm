# 2일차

생성일: 2025년 10월 4일 오후 2:09

# 1. 네트워크 기초

## 네트워크란?

<aside>

💬 노드(node)와 링크(link)가 서로 연결되어 리소스를 공유하는 집합을 의미한다.

</aside>

### 노드(node)

- 서버, 라우터, 스위치 등의 네트워크 장치

### 링크(link)

- 유선, 무선

---

## 처리량과 지연시간

<aside>

💬 처리량과 지연시간은 컴퓨터 네트워크의 성능을 측정하는 두 가지 지표이다.

처리량에 따라 **네트워크에 접근할 수 있는 사용자의 수**가 결정되고

지연시간에 따라 **사용자가 네트워크에서 데이터를 주고받을 때 걸리는 시간**을 알 수 있다.

</aside>

### 처리량⬇️ 지연시간⬆️

- 많은 데이터를 전송하는데 어려움을 겪으며 정체(대기)가 발생하고 앱 성능이 저하된다.

### 처리량⬆️ 지연시간⬇️

- 반응성이 좋고 효율적이다.

## 처리량

<aside>

💬 특정 시간 동안 실제로 네트워크를 통과할 수 있는 평균 `데이터양`을 가리킨다.

목적지에 성공적으로 도착한 데이터 패킷(데이터 조각)의 수와 데이터 패킷 손실을 나타낸다.
링크내에서 성공적으로 전달된 데이터의 양을 말하며 얼만큼의 트래픽을 처리했는지를 나타낸다.

</aside>

### 측정방법

- 네트워크 테스트 도구를 이용하거나 수동으로 측정한다.
- 측정 공식 → `파일의 크기(bit) / 전송시간(s)`

### 단위

- `bps(bits per second)`를 사용했으나 현재는 기술의 발전으로 `KBps`, `MBps`, `GBps` 등의 단위로 처리량을 측정한다.

## 지연시간

<aside>

💬 요청이 처리되는 **시간**을 말한다. 어떤 메시지가 두 장치 사이를 왕복하는데 걸린 **시간**을 의미한다.

</aside>

### 측정방법

- 핑 시간을 측정하여 네트워크 지연 시간을 측정한다.
- 작은 데이터 패킷을 전송하고 해당 패킷이 도착했다는 확인을 받는다.
- 대부분의 OS에서는 ping 명령을 지원함.

![image.png](image.png)

### 단위

- `밀리초(ms)`를 사용한다. 숫자가 클수록 성능이 낮음을 의미한다.

---

## 네트워크 토폴로지(Network Topology)

<aside>

💬 토폴로지는 통신망 구조라고도 하며 컴퓨터 네트워크의 요소(링크, 노드)들을 물리적으로 연결해 놓은 것, 연결 방식을 말한다.

네트워크 토폴로지는 컴퓨터나 장치 간의 연결 및 데이터 전송 방식을 결정하며
네트워크의 안전성, 성능, 확장성 등에 영향을 준다.

</aside>

### 토폴로지의 **종류**

- **트리(계층형) 토폴로지(Tree Topology)**
    - 트리 형태로 배치한 네트워크 구성을 말한다.
    
    특징
    
    - 지역과 거리에 따라 연결하므로 통신선로의 총 경로가 가장 짧다.
    - 접속되는 단말기의 숫자에 맞는 통신장비 이용이 가능하다.
    - 멀티포인트 데이터 통신망이다.
    
    장점
    
    - 네트워크 관리가 쉽고 확장이 편리(노드의 추가, 삭제가 간단)하다.
    - 네트워크의 신뢰도가 높다.
    
    단점
    
    - 특정 노드에 트래픽이 집중되면 하위 노드에 영향을 끼치며 속도가 떨어진다.
    - 병목현상이 발생할 수 있다.
- **버스(선형) 토폴로지(Bus Topology, Linear Topology)**
    - 중앙 통신 회선 하나에 여러 개의 노드가 연결되어 공유하는 네트워크 구성이다.
    - 근거리 통신망(LAN)에서 사용한다.
    
    특징
    
    - 모든 노드의 간선을 공유한다.
    - 간선과 각 단말 장치와의 접속은 간단한 접속 장치를 붙이는 것으로 가능하다.
    - 통신 부하가 대부분 단말 장치 측으로 분산되어 통신 시스템 전체의 효율성과 각 단말과의 사이가 거의 비례 관계가 성립한다.
    
    장점
    
    - 설치비용이 적다.
    - 구현이 간단하다.
    
    단점
    
    - 노드 수가 증가하면 충동 증가로 통신효율이 줄어든다.
    - 문제가 발생한 곳을 찾기 어렵고 보스가 고장이 나면 전체가 다운된다.
    - 스푸핑이 가능하다.
- **스타(성형) 토폴로지(Star Topology)**
    - 중앙에 있는 노드에 모두 연결된 네트워크 구성이다.
    
    특징
    
    - 중앙집중식 구조이다.
    - 중앙의 교환 장비가 데이터 경로를 개설하고 유도한다.
    - 이용자의 스테이션은 중앙의 교환 장비에 점대점(point-to-point) 링크로 연결한다.
    
    장점
    
    - 노드를 추가하거나 에러를 탐지하기 쉽다.
    - 패킷의 충돌가능성이 적다.
    - 확장과 관리가 편하다.
    - 어떤 노드에 장애가 생겨도 쉽게 발견할 수 있다.
    
    단점
    
    - 노드 수가 증가하면 패킷 충돌이 급격히 증가하여 효율이 낮아진다.
    - 중앙 노드(허브)가 고장나면 전체를 사용할 수 없다.
    - 설치 비용이 고가이다.
- **메시(망형) 토폴로지(Mesh Topology)**
    - 그물망처럼 연결되어 있는 구조를 띈다.
    
    특징
    
    - 네트워크상의 모든 노드를 상호연결한다.
    - 통신선로의 총길이가 가장 길다(위의 이유로).
    - 초기 데이터 통신 네트워크의 전형적인 형태이다.
    - 공중 통신망에 많이 사용된다.
    - 완전 연결형, 부분 연결형으로 나눌 수 있다.
    
    장점
    
    - 이중화로 인해 장애 발생시에 다른 경로를 통해서 네트워크를 사용할 수 있다.
    - 트래픽 분산 처리가 가능하고, 많은 양의 데이터를 송수신 할 수 있다.
    
    단점
    
    - 노드의 추가가 어렵다.
    - 비용이 고가이다.
- **링형 토폴로지(Ring Topology)**
    - 각각의 노드가 양 옆의 두 노드와 연결하여 전체적으로 고리처럼 하나의 연속된 길을 통해 통신을 하는 망 구성 방식이다.
    
    특징
    
    - 각 링크가 단방향이어서 데이터는 한 방향으로만 전송한다.
    - 데이터는 노드에서 노드로 이동한다.
    - 각 노드는 데이터의 송수신을 제어하는 엑세스 제어 논리를 보유한다.
    
    장점
    
    - 노드 수가 증가되어도 네트워크상의 손실이 거의 없다.
    - 충돌이 발생되는 가능성이 적다.
    - 노드의 고장 발견을 쉽게 찾을 수 있다.
    
    단점
    
    - 네트워크 구성 변경이 어렵다.
    - 회선에 장애가 생기면 전체에 영향을 끼친다.

## 병목(Bottle Neck) 현상

<aside>

💬 전체 시스템 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상을 말한다.

토폴로지가 중요한 이유는 병목 현상을 찾을 때 중요한 기준이 되기 때문이다.

</aside>

### 네트워크 병목 현상의 원인

1. 네트워크 대역폭
2. 네트워크 토폴로지
3. 서버 CPU, 메모리 사용량
4. 비효율적인 네트워크 구성

---

## 네트워크의 분류

- 네트워크는 규모에 따라서 분류가 가능하다.

### **LAN(Local Area NetWork)**

- LAN은 근거리 통신망을 의미한다.
- 같은 건물, 사무실과 같은 좁은 공간에서 운영된다.
- 전송 속도가 빠르고 혼잡하지 않다.

### **MAN(Metropolitan Area NetWork)**

- MAN은 대도시 지역 네트워크를 의미한다.
- 도시같은 넓은 공간에서 운영된다.
- 전송 속도는 평균이며 LAN보다는 혼잡하다.

### **WAN(Wide Area NetWork)**

- WAN은 광역 네트워크를 의미한다.
- 국가, 대륙과 같은 지역에서 운영된다.
- 전송 속도는 낮고 MAN보다 혼잡하다.

### 전송속도 비교

`LAN`  > `MAN` > `WAN`

### 혼잡도 비교

`WAN`  > `MAN` > `LAN`

---

## 네트워크 성능 분석 명령어

### **ping(Packet INternet Groper)**

- 네트워크 상태를 확인하려는 대상 노드를 향해 일정 크기의 패킷을 전송하는 명령어
- 특정 호스트와의 연결 상태, 응답 시간 확인

### **netstat**

- 접속되어 있는 서비스들의 네트워크 상태를 표시하는 데 사용된다.
- 네트워크 접속, 라우팅 테이블, 네트워크 프로토콜 등 리스트를 보여준다.
- 주로 서비스의 포트가 열려 있는지 확인할 때 쓴다.

### **tracert(windows: tracert, linux: traceroute)**

- 목적지 노드까지 네트워크 경로를 확인할 때 사용하는 명령어이다.
- 목적지 노드까지 구간들 중 어느 구간에서 응답 시간이 느려지는지 등을 확인할 수 있다.

### **nslookup**

- DNS에 관련된 내용을 확인하기 위해 쓰는 명령어이다.
- 특정 도메인에 매핑된 IP를 확인하기 위해 사용한다.

### ipconfig/ifconfig

- 네트워크 인터페이스 설정 확인

---

## 네트워크 프로토콜

<aside>

💬 네트워크 프로토콜이란 다른 장치들끼리 데이터를 주고받기 위해 설정된 공통된 인터페이스를 말한다.

이러한 프로토콜은 기업이나 개인이 발표해서 정하는 것이 아니라 IEEE 또는 IETF라는 표준화 단체가 이를 정한다.

</aside>

**프로토콜:** 컴퓨터 또는 전자기기 간의 원활한 통신을 위해 지키기로 약속한 규약

### 네트워크 프로토콜 표준화의 특징

- 다양한 장비를 망에서 사용 가능
- 표준화 설계 방식으로 확장 용이
- 시장규모형성으로 융통성(돌려쓸 수 있는 특성)을 부여.
- 통신 방법 단순화(다양하지 않음).

### 프로토콜 표준화의 3S 원칙

> `표준화`(Standardization)하면 `단순화`(Simplification)해지고 `전문화`(Specializtion)된다.
> 

---

# 2. TCP/IP 4계층 모델

## IP

<aside>

💬 지정한 IP 주소에 데이터의 조각들을 패킷(Packet)이라는 통신 단위로 최대한 빨리 목적지로 보내는 역할

조각들의 순서가 뒤바뀌거나 일부가 누락되더라도 크게 상관하지 않고 보내는 데 집중을 한다.

</aside>

## TCP

<aside>

💬 TCP는 패킷을 정상적으로 받을 수 있도록 하는 프로토콜이다.

꼼꼼하게 보내는 것이 목적이기 때문에 IP보다 패킷 전송 속도가 느리다.

하지만 패킷 전달 여부를 보증하고, 패킷을 송신 순서대로 받게 해준다.

목적지에 도착한 패킷들을 순서대로 정렬하고, 손상되거나 손실된 패킷이 있다면 출발지에 재요청하는 방식으로 진행된다.

즉, TCP는 IP의 문제를 보완해주는 프로토콜이다.

</aside>

## TCP/IP

<aside>

TCP/IP는 IP(인터넷 프로토콜)와 TCP(전송 조절 프로토콜)의 묶음을 의미한다.

송신자가 수신자에게 IP를 사용하여 최대한 빠르게 패킷을 전송하면 수신자는 TCP를 활용하여 패킷을 정상적으로 수신한다.

즉, IP와 TCP 방식을 조합하여 인터넷 통신을 하는 것이다.

</aside>

## TCP/IP 4 계층

- 네트워크 엑세스 계층(Network Interface Layer)
- 인터넷 계층(Internet Layer)
- 전송 계층(Transport Layer)
- 응용 계층(Application Layer)

### 네트워크 엑세스 계층(Network Interface Layer) - 1 계층

특징

- 데이터를 전기신호로 변환한 뒤, 물리적 주소인 MAC 주소를 사용하여 알맞은 기기로 데이터를 전달한다.
- 에러 검출 기능과 패킷의 프레임화 담당
- OSI 7 계층의 ‘물리 계층(Physical Layer), 데이터 링크 계층(Data Link Layer)’의 역할을 담당하는 계층

전송단위

- 프레임(Frame)

프로토콜

- Ethernet, Wi-Fi, PPP, Token Ring

전송주소

- MAC

### 인터넷 계층(Internet Layer) - 2 계층

특징

- IP를 담당하는 계층
- IP를 사용하여 데이터의 출발지와 목적지에 관한 정보를 첨부한다.
- 패킷을 최종 목적지까지 라우팅 하는 계층
- 통신 노드 간의 IP 패킷을 전송하는 기능과 라우팅 기능을 담당
- OSI 7 계층의 ‘네트워크 계층(Network Layer)’의 역할을 담당하는 계층

전송단위

- 패킷(Packet)

프로토콜

- IP, ARP, RARP

전송주소

- IP

### 전송 계층(Transport Layer) - 3 계층

특징

- TCP/UDP를 담당하는 계층 (TCP : 신뢰성, 연결 지향적 UDP : 비신뢰성, 비연결 지향적)
- TCP는 IP 위에서 동작하는 프로토콜로 데이터의 전달을 보증하고 보낸 순서대로 받게 해준다.
- **즉, 통신 노드 간 신뢰성 있는 데이터 전송을 보장하는 계층이다.**
- OSI 7 계층의 '전송 계층(Transport Layer)'의 역할을 담당하는 계층

전송단위

- 세그먼트(Segment)

프로토콜

- TCP, UDP, RTP, RTCP

전송주소

- Port

### 응용 계층(Application Layer) - 4 계층

특징

- HTTP/FTP를 담당하는 계층
- 사용자-소프트웨어 간 소통을 담당하는 계층
- **응용프로그램(application)들이 데이터를 교환하기 위해 사용되는 프로토콜**
- 사용자 응용프로그램 인터페이스를 담당한다.
- OSI 7 계층의 '세션 계층(Session Layer), 표현 계층(Presentation Layer), 응용 계층(Application Layer)'의 역할을 담당하는 계층

전송단위

- Data/Message

프로토콜

- HTTP, HTTPS, FTP, SSH, Telnet, DNS, SMTP

## PDU(Protocol Data Unit)

<aside>

💬 각 계층에서 송수신되는 메시지의 단위를 PDU라고 한다.

즉, 상위 계층에서 전달받은 데이터에 현재 계층의 프로토콜 헤더(및 트레일러)를 추가하면 현재 계층의 PDU가 된다

현재 계층의 PDU = 상위 계층 데이터 + 현재 계층의 프로토콜 헤더(및 트레일러)

</aside>

### OSI 7 계층 PDU

1 계층(물리계층) PDU는 **비트(Bits)**

2 계층(데이터 링크 계층) PDU는 **프레임(Frame)**

3 계층(네트워크 계층) PDU는 **패킷(Packet)**

4 계층(트랜스포트 계층) PDU는 **세그먼트(Segment)**

나머지 애플리케이션에 해당하는 5~7 계층(Session, Presentation, Application)의 PDU는 **데이터(Data)**

---

# 3. 네트워크 기기

## 네트워크 기기의 처리 범위

- 계층별로 처리 범위를 나눌 수 있음
- 상위 계층을 처리하는 기기는 하위 계층 처리 가능, 그 반대는 불가능
- L7 스위치는 애플리케이션 계층을 처리하는데 그 밑의 모든 계층의 프로토콜을 처리할 수 있음

## 애플리케이션 계층을 처리하는 기기

### L7 스위치(로드밸런서)

- 여러 장비를 연결하고 데이터 통신을 중재
- 목적지가 연결된 포트로만 데이터 전송
- 서버의 부하 분산
- 클라이언트로부터 오는 요청들을 뒤쪽의 여러 서버로 나누는 역할 수행 (로드밸런서)
- 시스템이 처리할 수 있는 트래픽 증가가 목표
- 정기적으로 헬스 체크하여 장애 발생 서버 트래픽 분산 대상에서 제외

### L4 스위치와 L7 스위치 차이

- L4 스위치도 로드밸런서 → 인터넷 계층을 처리하는 기기
- 메시지 기반 인식 불가능
- IP와 포트를 기반으로 트래픽을 분산, 반면 L7 로드밸런서는 URL, HTTP 헤더, 쿠키로도 트래픽 분산

### 헬스 체크

- 정상적인 서버 또는 비정상적인 서버를 판별하기 위해 반복적으로 서버에 요청을 보내는 것
- 서버에 부하가 가지 않을 만큼 요청 횟수가 적절해야 함

### 로드밸런서를 이용한 서버 이중화

- 2대 이상의 서버를 기반으로 가상 IP를 제공하여 안정적인 서비스 제공
- 가상 IP에 사용자들이 접근하고 뒷단에 사용 가능한 서버 2대를 기반으로 서빙

## 인터넷 계층을 처리하는 기기(Network Layer)

- 라우터, L3 스위치

### 라우터

- 여러 개의 네트워크를 연결, 분할, 구분
- 다른 네트워크 장치끼리 데이터를 주고받을 때 최소 경로로 패킷을 포워딩

### L3 스위치

- L2 스위치의 기능과 라우팅 기능을 갖춘 장비
- 라우터라 해도 무방
- `라우터`: 소프트웨어 기반 라우팅 / 하드웨어 기반의 라우팅
- L3 스위치는 하드웨어 기반의 라우팅 담당

## 데이터 링크 계층을 처리하는 기기(Data-Link Layer)

- L2 스위치, 브리지

### L2 스위치

- 장치들의 MAC 주소를 MAC 주소 테이블을 통해 관리
- 연결된 장치로부터 패킷이 왔을 때 패킷 전송
- IP 주소를 기반으로 라우팅 불가, 단순히 패킷의 MAC 주소를 읽어 스위칭
- 목적지가 MAC 주소 테이블에 없다면 전체 포트에 전달

### 브리지

- 두 개의 근거리 통신망을 상호 접속할 수 있도록 하는 통신망 연결 장치
- 포트와 포트 사이의 다리 역할
- 장치에서 받아온 MAC 주소를 MAC 주소 테이블로 관리
- 서로 다른 LAN 등으로 이루어진 하나의 통신망을 구축

## 물리 계층을 처리하는 기기(Physical Layer)

- NIC, 리피터, AP

### NIC

- 네트워크 인터페이스 카드
- 2대 이상의 컴퓨터 네트워크를 구성하는 데 사용
- 네트워크와 빠른 속도로 데이터를 송수신할 수 있는 확장 카드
- 각 LAN 카드에 고유 식별번호인 MAC 주소가 있다.

### 리피터

- 들어오는 약해진 신호 정도를 증폭하여 다른 쪽으로 전달
- 패킷이 더 멀리 갈 수 있다.
- 광케이블이 보급됨에 따라 현재는 잘 쓰이지 않음

### AP

- 패킷을 복사하는 기기
- AP에 유선 LAN을 연결한 후 다른 장치에서 무선 LAN 기술을 사용하여 무선 네트워크에 연결할 수 있음